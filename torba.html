<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TORBA'S NAME</title>
    <link rel="stylesheet" href="css/torba-style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="Container">
        <div class="Header">
            <div class="Label">
                Guess Torba's name
            </div>
            <div class="Heart">
                ❤️
            </div>
        </div>
        <div class="Hint">
            Rymuje się z "panna".
        </div>
        <div class="Guess">
            <div class="Input">
                <input id="Input" type="text" name="text" placeholder="Make a guess...">
            </div>
            <div class="Button">
                <button id="Button">Guess 1/3</button>
            </div>
        </div>
        <div class="Score">
        </div>
    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("Input");
    const button = document.getElementById("Button");
    const hint = document.querySelector(".Hint");
    const score = document.querySelector(".Score");
    let attempt = 1;

    // Funkcja tworzenia spadających emotek
    function createFallingEmojis(isCorrect) {
        const happyEmojis = ["💖", "✨", "🌸", "🎈", "❤️", "🌟"];
        const angryEmojis = ["💢", "😡", "👿", "🔥", "⚡", "💥"];
        const emojis = isCorrect ? happyEmojis : angryEmojis;
        const count = 30;

        for (let i = 0; i < count; i++) {
            const emoji = document.createElement("div");
            emoji.classList.add("emoji");
            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = Math.random() * 100 + "vw";
            emoji.style.animationDuration = 3 + Math.random() * 3 + "s";
            emoji.style.fontSize = 20 + Math.random() * 30 + "px";
            document.body.appendChild(emoji);

            setTimeout(() => {
                emoji.remove();
            }, 6000);
        }
    }

    button.addEventListener("click", () => {
        const guess = input.value.trim().toLowerCase();
        if (guess === "") return;

        if (guess === "ania" || guess === "anna") {
            score.style.backgroundColor = "pink";
            button.textContent = "Guess";
            hint.textContent = "W końcu pamiętasz";

            // Radosne emotki
            createFallingEmojis(true);
        } else {
            // Wściekłe emotki
            createFallingEmojis(false);

            if (attempt === 1) {
                score.style.backgroundColor = "orange";
                hint.textContent = "Ma dokładnie cztery litery.";
                button.textContent = "Guess 2/3";
            } else if (attempt === 2) {
                score.style.backgroundColor = "red";
                hint.textContent = "Zaczyna się na literę 'A'.";
                button.textContent = "Guess 3/3";
            } else if (attempt === 3) {
                score.style.backgroundColor = "gray";
                button.disabled = true;
                hint.textContent = "ZNOWU NIE PAMIĘTASZ!";
                return;
            }
            attempt++;
        }
    });
});
</script>

</body>
</html>
